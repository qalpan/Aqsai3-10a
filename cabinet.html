<!DOCTYPE html>
<html lang="kk">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1"> ¬† ¬† ¬† ¬†
<link rel="shortcut icon" href="s≈Øuretter/taÍûëba-aqsai3-10a.svg" type="image/svg">
<title>–ñ–µ–∫–µ –ö–∞–±–∏–Ω–µ—Ç - Aqsai3-10a ≈Øi b√Ωrlest√Ωg√Ω</title>
<link rel='stylesheet' href='yi.css' type='text/css'/>¬†¬†
<style>
/* CSS —Å—Ç–∏–ª—ñ (yi.css-—Ç–µ –±–æ–ª—É—ã –º“Ø–º–∫—ñ–Ω, –±—ñ—Ä–∞“õ –∫–µ—Å—Ç–µ–≥–µ “õ–æ—Å—ã–º—à–∞ —Å—Ç–∏–ª—å –±–µ—Ä–¥—ñ–∫) */
.payment-history-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
    font-size: 0.9em;
}
.payment-history-table th, .payment-history-table td {
    border: 1px solid #ddd;
    padding: 10px 8px;
    text-align: left;
}
.payment-history-table th {
    background-color: #007bff; /* –°—ñ–∑–¥—ñ“£ —Å—Ç–∏–ª—ñ“£—ñ–∑–≥–µ —Å”ô–π–∫–µ—Å ”©–∑–≥–µ—Ä—Ç—ñ“£—ñ–∑ */
    color: white;
    text-align: center;
}
.payment-history-table tr:nth-child(even) {
    background-color: #f9f9f9;
}
.status-paid { color: green; font-weight: bold; }
.status-pending { color: orange; font-weight: bold; }
</style>
</head>

<body>
<ul class="belgi" href="https://qalpan.github.io/Aqsai3-10a/">
<img src="s≈Øuretter/jazyu-Aqsai3-10a yi birlestigi.svg" alt="–ë–∞—Å—Ç—ã –±–µ—Ç" title="–ë–∞—Å—Ç—ã –±–µ—Ç–∫–µ - –æ—Ä–∞–ª—ã—É" data-image="s≈Øuretter/jazyu-Aqsai3-10a yi birlestigi.svg" data-description="–±–∞—Å—Ç–∞—É">
</ul>

<ul class="injener">
    <a><strong>–ò–Ω–∂–µ–Ω–µ—Ä–ª—ñ–∫ –∂–µ–ª—ñ–ª–µ—Ä–≥–µ “õ—ã–∑—ã–º–µ—Ç</strong></a>
    <a href="tel:+7 700 740 0005">+7 700 740 0005 operator</a>
    </ul>

<div class="content-wrapper" style="padding: 20px;">
    <h2>üë§ –¢“±—Ä“ì—ã–Ω–Ω—ã“£ –ñ–µ–∫–µ –ö–∞–±–∏–Ω–µ—Ç—ñ</h2>
    <hr>
    
    <div style="margin-bottom: 20px; padding: 15px; border: 1px solid #ccc; border-radius: 5px;">
        <label for="apartment-input" style="font-weight: bold;">–ü”ô—Ç–µ—Ä –Ω”©–º—ñ—Ä—ñ–Ω –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑:</label>
        <input type="number" id="apartment-input" placeholder="–ú—ã—Å–∞–ª—ã: 10" value="10" 
               style="padding: 8px; margin-right: 10px; border: 1px solid #ddd; border-radius: 3px;">
        <button onclick="loadPaymentData()" 
                style="padding: 8px 15px; background-color: #007bff; color: white; border: none; border-radius: 3px; cursor: pointer;">
            –î–µ—Ä–µ–∫—Ç–µ—Ä–¥—ñ –∫”©—Ä—Å–µ—Ç—É
        </button>
        <p id="data-status" style="margin-top: 10px; font-size: 0.9em;"></p>
    </div>

    <div id="payment-table-container">
        <p>–ö–µ—Å—Ç–µ–Ω—ñ –∫”©—Ä—É “Ø—à—ñ–Ω –ø”ô—Ç–µ—Ä –Ω”©–º—ñ—Ä—ñ–Ω –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑.</p>
    </div>

</div>

<ul class="menu">
<li class="list">
<a href="https://qalpan.github.io/Aqsai3-10a/">web - site ‚Äì Aqsai3-10a</a>
</li>
</ul>

<footer>
<p>Aqsai3-10a yi birlestigi</p>
</footer>

<script type="text/javascript">
// --- 1. –ë–∞—Å—Ç–∞–ø“õ—ã —Ñ—É–Ω–∫—Ü–∏—è–ª–∞—Ä ---
document.ondragstart = test;
document.onselectstart = test;
document.oncontextmenu = test;
function test(){return false}

// --- 2. –¢”©–ª–µ–º –î–µ—Ä–µ–∫—Ç–µ—Ä—ñ–Ω –ñ“Ø–∫—Ç–µ—É –∂”ô–Ω–µ –ö”©—Ä—Å–µ—Ç—É ---

// –§–∞–π–ª –∂–æ–ª—ã (–°—ñ–∑–¥—ñ“£ GitHub Pages “Ø—à—ñ–Ω –µ“£ —ã“õ—Ç–∏–º–∞–ª –¥“±—Ä—ã—Å –∂–æ–ª)
const paymentDataUrl = '/Aqsai3-10a/payments.json'; 

// –§—É–Ω–∫—Ü–∏—è: –¢”©–ª–µ–º –¥–µ—Ä–µ–∫—Ç–µ—Ä—ñ–Ω –∂“Ø–∫—Ç–µ—É
function loadPaymentData() {
    const targetApartment = document.getElementById('apartment-input').value.trim();
    const container = document.getElementById('payment-table-container');
    const statusMessage = document.getElementById('data-status');

    if (!targetApartment) {
        statusMessage.innerHTML = '<span style="color: red;">–ü”ô—Ç–µ—Ä –Ω”©–º—ñ—Ä—ñ–Ω –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑.</span>';
        container.innerHTML = '<p>–ö–µ—Å—Ç–µ–Ω—ñ –∫”©—Ä—É “Ø—à—ñ–Ω –ø”ô—Ç–µ—Ä –Ω”©–º—ñ—Ä—ñ–Ω –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑.</p>';
        return;
    }

    container.innerHTML = '<p>–î–µ—Ä–µ–∫—Ç–µ—Ä –∂“Ø–∫—Ç–µ–ª—É–¥–µ...</p>';
    statusMessage.innerHTML = `–ü”ô—Ç–µ—Ä ${targetApartment} –±–æ–π—ã–Ω—à–∞ –¥–µ—Ä–µ–∫—Ç–µ—Ä —ñ–∑–¥–µ–ª—É–¥–µ...`;

    fetch(paymentDataUrl) 
        .then(response => {
            if (!response.ok) {
                throw new Error(`HTTP “õ–∞—Ç–µ—Å—ñ! –°—Ç–∞—Ç—É—Å: ${response.status}`);
            }
            return response.json();
        })
        .then(data => {
            // –î–µ—Ä–µ–∫—Ç–µ—Ä–¥—ñ —Å“Ø–∑—É
            const filteredData = data.filter(p => p.apartment === targetApartment);
            
            if (filteredData.length === 0) {
                 statusMessage.innerHTML = `<span style="color: blue;">–ü”ô—Ç–µ—Ä ${targetApartment} “Ø—à—ñ–Ω —Ç”©–ª–µ–º —Ç–∞—Ä–∏—Ö—ã —Ç–∞–±—ã–ª–º–∞–¥—ã.</span>`;
                 container.innerHTML = `<p><strong>${targetApartment}</strong> –ø”ô—Ç–µ—Ä—ñ –±–æ–π—ã–Ω—à–∞ —Ç–∞–±—ã–ª“ì–∞–Ω –∂–∞–∑–±–∞–ª–∞—Ä –∂–æ“õ.</p>`;
                 return;
            }

            statusMessage.innerHTML = `<span style="color: green;">${filteredData.length} –∂–∞–∑–±–∞ —Ç–∞–±—ã–ª–¥—ã.</span>`;

            // –ö–µ—Å—Ç–µ–Ω—ñ “õ“±—Ä—É
            let html = `
                <h2>–ü”ô—Ç–µ—Ä ${targetApartment} –±–æ–π—ã–Ω—à–∞ —Ç”©–ª–µ–º —Ç–∞—Ä–∏—Ö—ã</h2>
                <table class="payment-history-table">
                    <thead>
                        <tr>
                            <th>–ê–π</th>
                            <th>–°–æ–º–∞—Å—ã (—Ç–≥)</th>
                            <th>–ú”ô—Ä—Ç–µ–±–µ—Å—ñ</th>
                            <th>–¢“Ø–±—ñ—Ä—Ç–µ–∫</th>
                        </tr>
                    </thead>
                    <tbody>
            `;
            
            filteredData.forEach(payment => {
                // –ú”ô—Ä—Ç–µ–±–µ–≥–µ –±–∞–π–ª–∞–Ω—ã—Å—Ç—ã –∫–ª–∞—Å—Å –±–µ—Ä—É
                const statusClass = payment.status === '–¢”©–ª–µ–Ω–¥—ñ' ? 'status-paid' : 'status-pending';
                const statusText = payment.status;

                html += `
                    <tr>
                        <td>${payment.month}</td>
                        <td style="text-align: right;">${payment.amount.toLocaleString('kk-KZ')}</td>
                        <td class="${statusClass}">${statusText}</td>
                        <td style="text-align: center;">${payment.receipt_link ? '<a href="' + payment.receipt_link + '" target="_blank">–¢“Ø–±—ñ—Ä—Ç–µ–∫ –∫”©—Ä—É</a>' : '‚Äî'}</td>
                    </tr>
                `;
            });

            html += '</tbody></table>';
            container.innerHTML = html;
        })
        .catch(error => {
            console.error('–¢”©–ª–µ–º –¥–µ—Ä–µ–∫—Ç–µ—Ä—ñ–Ω –∂“Ø–∫—Ç–µ—É “õ–∞—Ç–µ—Å—ñ:', error);
            statusMessage.innerHTML = '<span style="color: red;">–î–µ—Ä–µ–∫—Ç–µ—Ä–¥—ñ –∂“Ø–∫—Ç–µ—É –∫–µ–∑—ñ–Ω–¥–µ “õ–∞—Ç–µ —à—ã“õ—Ç—ã.</span>';
            container.innerHTML = `<p style="color: red;">–î–µ—Ä–µ–∫—Ç–µ—Ä–¥—ñ –∂“Ø–∫—Ç–µ—É –º“Ø–º–∫—ñ–Ω –±–æ–ª–º–∞–¥—ã. –¢–µ—Ö–Ω–∏–∫–∞–ª—ã“õ “õ–∞—Ç–µ: ${error.message}</p>`;
        });
}

// –ë–µ—Ç –∂“Ø–∫—Ç–µ–ª–≥–µ–Ω–¥–µ 10-–ø”ô—Ç–µ—Ä–¥—ñ“£ –¥–µ—Ä–µ–∫—Ç–µ—Ä—ñ–Ω –∞–≤—Ç–æ–º–∞—Ç—Ç—ã —Ç“Ø—Ä–¥–µ –∂“Ø–∫—Ç–µ—É
window.onload = function() {
    loadPaymentData();
};

// --- 3. –ê–∫–∫–æ—Ä–¥–µ–æ–Ω —Ñ—É–Ω–∫—Ü–∏—è—Å—ã (–ï–≥–µ—Ä “õ–∞–∂–µ—Ç –±–æ–ª—Å–∞) ---
const list = document.querySelectorAll('.list');

function accordion(e){
    // ... (–°—ñ–∑–¥—ñ“£ –±–∞—Å—Ç–∞–ø“õ—ã accordion –ª–æ–≥–∏–∫–∞“£—ã–∑)
}
for(i = 0; i < list.length; i++ ){
    list[i].addEventListener('click', accordion);
}
</script>

</body>
</html>