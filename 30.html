<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">      
<link rel="shortcut icon" href="sůuretter/taꞑba-aqsai3-10a.svg" type="image/svg">
<title>Aqsai3-10a - ůi býrlestýgý</title>
<link rel='stylesheet' href='yi.css' type='text/css'/>  

</head>

<script type="text/javascript">
// ... Сіздің бастапқы JS кодыңыз (мысалы, right-click disabling)
document.ondragstart = test;
document.onselectstart = test;
document.oncontextmenu = test;
function test(){return false}
</script>

<body>
<div id="payment-table-container">
    <p>Төлем деректері жүктелуде...</p>
</div>

<script type="text/javascript">
    // Бұл екінші <script> тегінде төлемдерді жүктеу логикасы болады
    // Код DOM-ның толық жүктелгенін күтпей-ақ, DIV-тен кейін бірден орындалады

    const targetApartment = '10'; // Көрсетілетін пәтер нөмірі
    const container = document.getElementById('payment-table-container');

    // **Ескерту:** /Aqsai3-10a/payments.json жолы тек репозиторийдің ішіндегі файлға сілтеу үшін
    // GitHub Pages-те ол әдетте тек /payments.json болады.
    // Егер сіздің репозиторийіңіздің аты Aqsai3-10a болса, жол осылай болуы мүмкін:
    const paymentDataUrl = 'payments.json'; // немесе '/payments.json'

    fetch(paymentDataUrl) 
        .then(response => {
            if (!response.ok) {
                // Егер файл табылмаса (404) немесе басқа қате болса
                throw new Error(`HTTP қатесі! Status: ${response.status}`);
            }
            return response.json();
        })
        .then(data => {
            // Кесте тақырыбын қосу
            let html = `
                <table class="payment-history-table">
                    <thead>
                        <tr>
                            <th>Ай</th>
                            <th>Сомасы (тг)</th>
                            <th>Мәртебесі</th>
                            <th>Түбіртек</th>
                        </tr>
                    </thead>
                    <tbody>
            `;
            
            // Деректерді сүзу және кесте жолдарына айналдыру
            data.filter(p => p.apartment === targetApartment).forEach(payment => {
                html += `
                    <tr>
                    <td>${payment.month}</td>
                    <td>${payment.amount.toLocaleString('kk-KZ')}</td>
                    <td>${payment.status}</td>
                    <td>${payment.receipt_link ? '<a href="' + payment.receipt_link + '" target="_blank">Түбіртек көру</a>' : '—'}</td>
                </tr>
                `;
            });

            html += '</tbody></table>';
            container.innerHTML = html;
        })
        .catch(error => {
            console.error('Төлем деректерін жүктеу қатесі:', error);
            container.innerHTML = '<p>Төлем деректерін жүктеу мүмкін болмады. Файл жолын (URL) және JSON форматын тексеріңіз.</p>';
        });

// ... Қалған JS (мысалы, accordion функциясы)
const list = document.querySelectorAll('.list');

function accordion(e){
// ...
}
// ...
</script>

</body>
</html>
